(this["webpackJsonpcourse-flux"]=this["webpackJsonpcourse-flux"]||[]).push([[10],{46:function(t,e,n){"use strict";var r=n(41),a=n(42),o=n(44),u=n(43),i=n(48),c=n(38),s=n(39),h="change",d=[],f=new(function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"emitChange",value:function(){this.emit(h)}},{key:"addChangeListener",value:function(t){this.on(h,t)}},{key:"removeChangeListener",value:function(t){this.removeListener(h,t)}},{key:"getAuthors",value:function(){return d}},{key:"getAuthorsBySlug",value:function(t){return d.find((function(e){return e.slug===t}))}}]),n}(i.EventEmitter));c.a.register((function(t){switch(t.actionType){case s.a.CREATE_AUTHOR:d.push(t.author),f.emitChange();break;case s.a.LOAD_AUTHOR:d=t.authors,f.emitChange();break;case s.a.UPDATE_AUTHOR:d=d.map((function(e){return e.id===t.author.id?t.author:e})),f.emitChange();break;case s.a.DELETE_AUTHOR:d=d.filter((function(e){return e.id!==parseInt(t.id,10)})),f.emitChange()}})),e.a=f},47:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return h}));var r=n(39),a=n(40),o=Object({NODE_ENV:"production",PUBLIC_URL:"/course-flux",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL?Object({NODE_ENV:"production",PUBLIC_URL:"/course-flux",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL+"/authors/":"https://my-json-server.typicode.com/rayhansoe/course-db-json/authors/";var u=n(38),i=n(18),c=function(t){return function(t){return fetch(o+(t.id||""),{method:t.id?"PUT":"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then(a.b).catch(a.a)}(t).then((function(e){u.a.dispatch({actionType:t.id?r.a.UPDATE_AUTHOR:r.a.CREATE_AUTHOR,author:e}),t.id?i.b.info("\ud83d\ude80 Author Updated"):i.b.info("\ud83d\ude80 Author Saved")}))},s=function(){return fetch(o).then(a.b).catch(a.a).then((function(t){u.a.dispatch({actionType:r.a.LOAD_AUTHOR,authors:t})}))},h=function(t){return(e=t,fetch(o+e,{method:"DELETE"}).then(a.b).catch(a.a)).then((function(){u.a.dispatch({actionType:r.a.DELETE_AUTHOR,id:t}),i.b.error("\u26a0 Course deleted")}));var e}},62:function(t,e,n){"use strict";n.r(e);var r=n(52),a=n(0),o=n(8),u=n(47),i=n(46),c=n(1),s=Object(o.a)((function(){return n.e(1).then(n.bind(null,56))})),h=Object(o.a)((function(){return n.e(16).then(n.bind(null,65))}));e.default=function(t){var e=t.course,n=t.onChange,o=t.onSubmit,d=t.errors,f=Object(a.useState)(i.a.getAuthors()),b=Object(r.a)(f,2),O=b[0],T=b[1],l=function(){T(i.a.getAuthors())};return Object(a.useEffect)((function(){return i.a.addChangeListener(l),0===i.a.getAuthors().length&&Object(u.b)(),function(){i.a.removeChangeListener(l)}}),[O.length]),Object(c.jsxs)("form",{className:"form",onSubmit:o,children:[Object(c.jsx)(s,{id:"title",label:"Title",onChange:n,name:"title",value:e.title,error:d.title}),Object(c.jsx)(h,{id:"author",name:"authorId",onChange:n,course:e,authors:O,errors:d}),Object(c.jsx)(s,{id:"category",label:"Category",onChange:n,name:"category",value:e.category,error:d.category}),Object(c.jsx)("input",{type:"submit",value:"Save",className:"btn btn-primary mt-3"})]})}}}]);
//# sourceMappingURL=10.ca8d3b28.chunk.js.map